@layout AuthLayout
@page "/authentication/login"

<EditForm Model="Model" OnValidSubmit="SubmitAsync">

    <DataAnnotationsValidator />

    <MudText Typo="Typo.h4"
             GutterBottom="true">
        Sign In
    </MudText>

    <MudText>
        Don't have an account? <MudLink Href="/authentication/register">Register</MudLink>
    </MudText>

    <MudTextField Label="Email Address"
                  @bind-Value="Model.Email"
                  For="@(() => Model.Email)"
                  Variant="Variant.Outlined"
                  Class="my-6" />

    <MudTextField InputType="@_passwordInput" 
                  Label="Password"
                  @bind-Value="Model.Password"
                  For="@(() => Model.Password)"
                  Variant="Variant.Outlined"
                  Adornment="Adornment.End"
                  AdornmentIcon="@_passwordInputIcon"
                  OnAdornmentClick="TogglePasswordVisibility" />

    <div Class="d-flex justify-space-between align-center">
        <MudCheckBox T="bool"
                     Label="Remember me?"
                     Color="Color.Primary"
                     Class="ml-n1 my-3" />
    </div>

    <MudButton ButtonType="ButtonType.Submit" 
               Variant="Variant.Filled"
               Color="Color.Primary"
               Size="Size.Large"
               Disabled = "_processing"
               FullWidth="true">
        @if(_processing)
        {
            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true"/>
            <MudText Class="ms-2">Processing</MudText>
        }
        else
        {
            <MudText>
                Sign In
            </MudText>
        }
    </MudButton>
</EditForm>

